!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("leaflet"),require("react-leaflet"),require("leaflet-draw")):"function"==typeof define&&define.amd?define(["leaflet","react-leaflet","leaflet-draw"],t):"object"==typeof exports?exports.ReactLeaflet=t(require("leaflet"),require("react-leaflet"),require("leaflet-draw")):e.ReactLeaflet=t(e.L,e[void 0],e.L)}(window,function(r,o,n){return function(r){var o={};function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=r,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,r){e.exports=r(3)()},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,r){"use strict";var p=r(4);function o(){}e.exports=function(){function e(e,t,r,o,n,a){if(a!==p){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}var r={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=n},function(e,t,r){"use strict";r.r(t);var o=r(0);r(5);var n=function(){this.__data__=[],this.size=0};var a=function(e,t){return e===t||e!=e&&t!=t};var i=function(e,t){for(var r=e.length;r--;)if(a(e[r][0],t))return r;return-1},p=Array.prototype.splice;var f=function(e){var t=this.__data__,r=i(t,e);return!(r<0||(r==t.length-1?t.pop():p.call(t,r,1),--this.size,0))};var u=function(e){var t=this.__data__,r=i(t,e);return r<0?void 0:t[r][1]};var c=function(e){return-1<i(this.__data__,e)};var l=function(e,t){var r=this.__data__,o=i(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}s.prototype.clear=n,s.prototype.delete=f,s.prototype.get=u,s.prototype.has=c,s.prototype.set=l;var h=s,w=Array.isArray;var b=function(){if(!arguments.length)return[];var e=arguments[0];return w(e)?e:[e]};var T=function(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1};var y=function(e,t,r){for(var o=r-1,n=e.length;++o<n;)if(e[o]===t)return o;return-1};var P=function(e,t){return!(null==e||!e.length)&&-1<y(e,t,0)};var D=function(e,t,r,o,n,a){var i=1&r,p=e.length,f=t.length;if(p!=f&&!(i&&p<f))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var c=-1,l=!0,s=2&r?new b:void 0;for(a.set(e,t),a.set(t,e);++c<p;){var y=e[c],d=t[c];if(o)var v=i?o(d,y,c,t,e,a):o(y,d,c,e,t,a);if(void 0!==v){if(v)continue;l=!1;break}if(s){if(!T(t,function(e,t){if(!P(s,t)&&(y===e||n(y,e,r,o,a)))return s.push(t)})){l=!1;break}}else if(y!==d&&!n(y,d,r,o,a)){l=!1;break}}return a.delete(e),a.delete(t),l};var O=function(e,t){return e===t||e!=e&&t!=t};var m=function(t,r){return function(e){return t(r(e))}}(Object.keys,Object),E=Object.prototype.hasOwnProperty;var _=function(e,t,r,o,n,a){var i=1&r,p=m(e),f=p.length;if(f!=m(t).length&&!i)return!1;for(var u=f;u--;){var c=p[u];if(!(i?c in t:E.call(t,c)))return!1}var l=a.get(e);if(l&&a.get(t))return l==t;var s=!0;a.set(e,t),a.set(t,e);for(var y=i;++u<f;){var d=e[c=p[u]],v=t[c];if(o)var b=i?o(v,d,c,t,e,a):o(d,v,c,e,t,a);if(!(void 0===b?d===v||n(d,v,r,o,a):b)){s=!1;break}y||(y="constructor"==c)}if(s&&!y){var h=e.constructor,w=t.constructor;h!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof h&&h instanceof h&&"function"==typeof w&&w instanceof w)&&(s=!1)}return a.delete(e),a.delete(t),s},d=Object.prototype.toString;var S=function(e){return d.call(e)};var g=function(){return!1};var j=function(){return!1},R="[object Arguments]",x="[object Array]",k="[object Object]",A=Object.prototype.hasOwnProperty;var v=function(e,t,r,o,n,a){var i=w(e),p=w(t),f=i?x:S(e),u=p?x:S(t),c=(f=f==R?k:f)==k,l=(u=u==R?k:u)==k,s=f==u;if(s&&g(e)){if(!g(t))return!1;c=!(i=!0)}if(s&&!c)return a||(a=new h),i||j(e)?D(e,t,r,o,n,a):O(e,t,f,r,o,n,a);if(!(1&r)){var y=c&&A.call(e,"__wrapped__"),d=l&&A.call(t,"__wrapped__");if(y||d){var v=y?e.value():e,b=d?t.value():t;return a||(a=new h),n(v,b,r,o,a)}}return!!s&&(a||(a=new h),_(e,t,r,o,n,a))};var L=function(e){return null!=e&&"object"==typeof e};var C=function e(t,r,o,n,a){return t===r||(null==t||null==r||!L(t)&&!L(r)?t!=t&&r!=r:v(t,r,o,n,e,a))};var M=function(e,t){return C(e,t)},q=r(2),W=r(1),U=r.n(W);function z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(e){N(t,e,r[e])})}return t}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,t,r){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(r):n.value}})(e,t,r||e)}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Y={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"},J=function(e){function p(){var e,r,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=this,o=(e=F(p)).call.apply(e,[this].concat(a)),N(H(H(r=!o||"object"!==I(o)&&"function"!=typeof o?H(t):o)),"onDrawCreate",function(e){var t=r.props.onCreated;r.props.leaflet.layerContainer.addLayer(e.layer),"function"==typeof t&&t(e)}),N(H(H(r)),"onDeleted",function(e){var t=r.props.onDeleted;"function"==typeof t&&t(e)}),N(H(H(r)),"onDeleteStart",function(e){var t=r.props.onDeleteStart;"function"==typeof t&&t(e)}),N(H(H(r)),"onDeleteStop",function(e){var t=r.props.onDeleteStop;"function"==typeof t&&t(e)}),N(H(H(r)),"onDrawStart",function(e){var t=r.props.onDrawStart;"function"==typeof t&&t(e)}),N(H(H(r)),"onDrawStop",function(e){var t=r.props.onDrawStop;"function"==typeof t&&t(e)}),r}var t,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(p,q["MapControl"]),t=p,(r=[{key:"createLeafletElement",value:function(e){return K(e)}},{key:"componentDidMount",value:function(){B(F(p.prototype),"componentDidMount",this).call(this);var e=this.props.leaflet.map,t=this.props.onMounted;for(var r in Y)this.props[r]&&e.on(Y[r],this.props[r]);e.on(U.a.Draw.Event.CREATED,this.onDrawCreate),e.on(U.a.Draw.Event.DELETED,this.onDeleted),e.on(U.a.Draw.Event.DELETESTART,this.onDeleteStart),e.on(U.a.Draw.Event.DELETESTOP,this.onDeleteStop),e.on(U.a.Draw.Event.DRAWSTART,this.onDrawStart),e.on(U.a.Draw.Event.DRAWSTOP,this.onDrawStop),"function"==typeof t&&t(this.leafletElement)}},{key:"componentWillUnmount",value:function(){B(F(p.prototype),"componentWillUnmount",this).call(this);var e=this.props.leaflet.map;for(var t in e.off(U.a.Draw.Event.CREATED,this.onDrawCreate),e.off(U.a.Draw.Event.DELETED,this.onDeleted),e.off(U.a.Draw.Event.DELETESTART,this.onDeleteStart),e.off(U.a.Draw.Event.DELETESTOP,this.onDeleteStop),e.off(U.a.Draw.Event.DRAWSTART,this.onDrawStart),e.off(U.a.Draw.Event.DRAWSTOP,this.onDrawStop),Y)this.props[t]&&e.off(Y[t],this.props[t])}},{key:"componentDidUpdate",value:function(e){if(B(F(p.prototype),"componentDidUpdate",this).call(this,e),M(this.props.draw,e.draw)||this.props.position!==e.position)return!1;var t=this.props.leaflet.map;return this.leafletElement.remove(t),this.leafletElement=K(this.props),this.leafletElement.addTo(t),null}}])&&V(t.prototype,r),o&&V(t,o),p}();function K(e){var t=e.leaflet.layerContainer,r=e.draw,o=e.edit,n=e.position,a={edit:z({},o,{featureGroup:t})};return r&&(a.draw=z({},r)),n&&(a.position=n),new W.Control.Draw(a)}N(J,"propTypes",z({},Object.keys(Y).reduce(function(e,t){return e[t]=o.PropTypes.func,e},{}),{onCreated:o.PropTypes.func,onMounted:o.PropTypes.func,onDeleted:o.PropTypes.func,draw:o.PropTypes.shape({polyline:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),polygon:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),rectangle:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),circle:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),marker:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool])}),edit:o.PropTypes.shape({edit:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),remove:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),poly:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),allowIntersection:o.PropTypes.bool}),position:o.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:o.PropTypes.shape({map:o.PropTypes.instanceOf(W.Map),layerContainer:o.PropTypes.shape({addLayer:o.PropTypes.func.isRequired,removeLayer:o.PropTypes.func.isRequired})})}));var Q=Object(q.withLeaflet)(J);r.d(t,"EditControl",function(){return Q})}])});